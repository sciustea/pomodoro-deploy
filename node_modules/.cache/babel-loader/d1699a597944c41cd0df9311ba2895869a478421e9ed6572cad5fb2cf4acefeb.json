{"ast":null,"code":"import _slicedToArray from\"C:/Projects/pomodoro-timer/pomodoro-deploy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// src/components/Timer.tsx\nimport React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Timer=function Timer(_ref){var workDuration=_ref.workDuration,breakDuration=_ref.breakDuration;var _useState=useState(workDuration*60),_useState2=_slicedToArray(_useState,2),timeLeft=_useState2[0],setTimeLeft=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isRunning=_useState4[0],setIsRunning=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isWorking=_useState6[0],setIsWorking=_useState6[1];useEffect(function(){document.body.className=isWorking?'work-background':'break-background';return function(){document.body.className='';};},[isWorking]);var audioUrl=\"https://assets.coderrocketfuel.com/pomodoro-times-up.mp3\";var playSound=function playSound(){var audio=new Audio(audioUrl);audio.play().catch(function(error){console.error(\"Error playing audio:\",error);});};useEffect(function(){var interval;if(isRunning){interval=setInterval(function(){setTimeLeft(timeLeft-1);if(timeLeft===1){// when the timer reaches 1 second (just before zero), play the sound.\nplaySound();}if(timeLeft===0){// when the timer reaches zero, toggle the work/break state.\nsetIsWorking(!isWorking);setTimeLeft(isWorking?breakDuration*60:workDuration*60);}},1000);}return function(){return clearInterval(interval);};},[timeLeft,isRunning,isWorking,workDuration,breakDuration]);return/*#__PURE__*/_jsxs(\"div\",{className:\"timer\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"work-break-title\",children:isWorking?'Work':'Break'}),/*#__PURE__*/_jsxs(\"p\",{className:\"countdown-timer\",children:[Math.floor(timeLeft/60),\":\",(timeLeft%60).toString().padStart(2,'0')]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsRunning(!isRunning);},className:\"timer-button\",children:isRunning?'Pause':'Start'}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setTimeLeft(isWorking?workDuration*60:breakDuration*60);},className:\"timer-button reset-button\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-above-audio\"}),/*#__PURE__*/_jsxs(\"audio\",{controls:true,children:[/*#__PURE__*/_jsx(\"source\",{src:audioUrl,type:\"audio/mpeg\"}),\"Your browser does not support the audio element.\"]})]});};export default Timer;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Timer","_ref","workDuration","breakDuration","_useState","_useState2","_slicedToArray","timeLeft","setTimeLeft","_useState3","_useState4","isRunning","setIsRunning","_useState5","_useState6","isWorking","setIsWorking","document","body","className","audioUrl","playSound","audio","Audio","play","catch","error","console","interval","setInterval","clearInterval","children","Math","floor","toString","padStart","onClick","controls","src","type"],"sources":["C:/Projects/pomodoro-timer/pomodoro-deploy/src/components/Timer.tsx"],"sourcesContent":["// src/components/Timer.tsx\r\n\r\nimport React, { useState, useEffect } from 'react';\r\n\r\ntype Props = {\r\n  workDuration: number;\r\n  breakDuration: number;\r\n};\r\n\r\nconst Timer: React.FC<Props> = ({ workDuration, breakDuration }) => {\r\n  const [timeLeft, setTimeLeft] = useState(workDuration * 60);\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [isWorking, setIsWorking] = useState(true);\r\n\r\n  useEffect(() => {\r\n    document.body.className = isWorking ? 'work-background' : 'break-background';\r\n\r\n    return () => {\r\n      document.body.className = '';\r\n    };\r\n  }, [isWorking]);\r\n\r\n  const audioUrl = \"https://assets.coderrocketfuel.com/pomodoro-times-up.mp3\";\r\n\r\n  const playSound = () => {\r\n    const audio = new Audio(audioUrl);\r\n    audio.play().catch((error) => {\r\n      console.error(\"Error playing audio:\", error);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n\r\n    if (isRunning) {\r\n      interval = setInterval(() => {\r\n        setTimeLeft(timeLeft - 1);\r\n\r\n        if (timeLeft === 1) {\r\n          // when the timer reaches 1 second (just before zero), play the sound.\r\n          playSound();\r\n        }\r\n\r\n        if (timeLeft === 0) {\r\n          // when the timer reaches zero, toggle the work/break state.\r\n          setIsWorking(!isWorking);\r\n          setTimeLeft(isWorking ? breakDuration * 60 : workDuration * 60);\r\n        }\r\n      }, 1000);\r\n    }\r\n\r\n    return () => clearInterval(interval);\r\n  }, [timeLeft, isRunning, isWorking, workDuration, breakDuration]);\r\n\r\n  return (\r\n    <div className=\"timer\">\r\n      <h1 className=\"work-break-title\">{isWorking ? 'Work' : 'Break'}</h1>\r\n      <p className=\"countdown-timer\">\r\n        {Math.floor(timeLeft / 60)}:{(timeLeft % 60).toString().padStart(2, '0')}\r\n      </p>\r\n      <button onClick={() => setIsRunning(!isRunning)} className=\"timer-button\">\r\n        {isRunning ? 'Pause' : 'Start'}\r\n      </button>\r\n      <button onClick={() => setTimeLeft(isWorking ? workDuration * 60 : breakDuration * 60)} className=\"timer-button reset-button\">\r\n        Reset\r\n      </button>\r\n\r\n      \r\n      <div className=\"space-above-audio\"></div>\r\n      <audio controls>\r\n        <source src={audioUrl} type=\"audio/mpeg\" />\r\n        Your browser does not support the audio element.\r\n      </audio>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}